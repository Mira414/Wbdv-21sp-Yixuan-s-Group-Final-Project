{"ast":null,"code":"var _jsxFileName = \"/Users/yixuanliao/sarry94118/2021/spring/02/petfinder/pet/pet2/backup/src/components/search-screen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Link, useParams, useHistory } from 'react-router-dom';\nimport movieService from \"../services/movie-service\";\nimport { AuthContext } from \"../App\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst petFinderKey = \"IERoPwTvvsgAtqgT71P7EhCx8nLMCsx4xvvP0zywOA6eSzWWal\";\nconst petFinderSecret = \"InqFifeZbO9QOwtLXTDQROwrzovrIbF2YfKVVl0o\";\n\nconst SearchScreen = () => {\n  _s();\n\n  const history = useHistory();\n  const {\n    breed\n  } = useParams();\n  const [searchTitle, setSearchTitle] = useState(breed);\n  const [results, setResults] = useState({\n    animals: []\n  });\n  const accessToken = useContext(AuthContext);\n  const [first, setFirst] = useState(false); // const [accessToken, setAccessToken] = useState(null);\n\n  useEffect(() => {\n    // const fetchAccessToken = async () => {\n    //     const params = new URLSearchParams();\n    //     params.append(\"grant_type\", \"client_credentials\");\n    //     params.append(\"client_id\", petFinderKey);\n    //     params.append(\"client_secret\", petFinderSecret);\n    //     const petfinderRes = await fetch(\n    //         \"https://api.petfinder.com/v2/oauth2/token\",\n    //         {\n    //             method: \"POST\",\n    //             body: params,\n    //         }\n    //     )\n    //\n    //     const json = await petfinderRes.json()\n    //     console.log(json.access_token)\n    //     setAccessToken(json.access_token)\n    // }\n    // fetchAccessToken();\n    setSearchTitle(breed);\n    findMoviesByTitle(\"\", accessToken); // console.log(accessToken)\n  }, []);\n\n  const findMoviesByTitle = (breed, accessToken) => {\n    history.push(`/search/${breed}`);\n    movieService.findMovieByTitle(breed, accessToken).then(results => {\n      setResults(results);\n      console.log(results);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-warning\",\n      children: [\"Search Screen\", results.length]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      value: searchTitle,\n      onChange: event => {\n        setSearchTitle(event.target.value);\n      },\n      className: \"form-control\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        setFirst(true);\n        findMoviesByTitle(searchTitle, accessToken);\n      },\n      className: \"btn btn-primary form-control btn btn-warning\",\n      children: \"Search\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), first === true && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"list-group\",\n        children: results.animals.map(pet =>\n        /*#__PURE__*/\n        // <li className=\"list-group-item\">\n        _jsxDEV(\"li\", {\n          className: \"list-group-item\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: `/details/${pet.id}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-3 mb-2 bg-warning text-dark\",\n              children: [\"Pet Name: \", pet.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-3 mb-2 bg-light text-dark\",\n            children: [\"Pet Gender: \", pet.gender]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-3 mb-2 bg-light text-dark\",\n            children: [\"Age: \", pet.age]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-3 mb-2 bg-light text-dark\",\n            children: [\"Description: \", pet.description]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 33\n          }, this)]\n        }, pet.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)\n    }, void 0, false)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n};\n\n_s(SearchScreen, \"YH3J/PpTeFg3XCEZnAiqgmQNRp8=\", false, function () {\n  return [useHistory, useParams];\n});\n\n_c = SearchScreen;\nexport default SearchScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchScreen\");","map":{"version":3,"sources":["/Users/yixuanliao/sarry94118/2021/spring/02/petfinder/pet/pet2/backup/src/components/search-screen.js"],"names":["React","useState","useEffect","useContext","Link","useParams","useHistory","movieService","AuthContext","petFinderKey","petFinderSecret","SearchScreen","history","breed","searchTitle","setSearchTitle","results","setResults","animals","accessToken","first","setFirst","findMoviesByTitle","push","findMovieByTitle","then","console","log","length","event","target","value","map","pet","id","name","gender","age","description"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useContext} from 'react'\nimport {Link, useParams, useHistory} from 'react-router-dom'\nimport movieService from \"../services/movie-service\"\nimport {AuthContext} from \"../App\"\nconst petFinderKey = \"IERoPwTvvsgAtqgT71P7EhCx8nLMCsx4xvvP0zywOA6eSzWWal\"\nconst petFinderSecret = \"InqFifeZbO9QOwtLXTDQROwrzovrIbF2YfKVVl0o\"\n\n\nconst SearchScreen = () => {\n    const history = useHistory()\n    const {breed} = useParams();\n    const [searchTitle, setSearchTitle] = useState(breed)\n    const [results, setResults] = useState({animals: []})\n    const accessToken = useContext(AuthContext);\n    const [first, setFirst] = useState(false)\n    // const [accessToken, setAccessToken] = useState(null);\n\n    useEffect(() => {\n        // const fetchAccessToken = async () => {\n        //     const params = new URLSearchParams();\n        //     params.append(\"grant_type\", \"client_credentials\");\n        //     params.append(\"client_id\", petFinderKey);\n        //     params.append(\"client_secret\", petFinderSecret);\n        //     const petfinderRes = await fetch(\n        //         \"https://api.petfinder.com/v2/oauth2/token\",\n        //         {\n        //             method: \"POST\",\n        //             body: params,\n        //         }\n        //     )\n        //\n        //     const json = await petfinderRes.json()\n        //     console.log(json.access_token)\n        //     setAccessToken(json.access_token)\n        // }\n        // fetchAccessToken();\n        setSearchTitle(breed)\n        findMoviesByTitle(\"\", accessToken)\n        // console.log(accessToken)\n\n    }, [])\n    const findMoviesByTitle = (breed, accessToken) => {\n        history.push(`/search/${breed}`)\n\n        movieService.findMovieByTitle(breed, accessToken)\n            .then((results) => {\n                setResults(results)\n                console.log(results)\n\n            })\n    }\n    return (\n        <div>\n            <h2 className=\"text-warning\">Search Screen{results.length}</h2>\n            <input value={searchTitle}\n                   onChange={(event) => {\n                       setSearchTitle((event.target.value))\n\n                   }}\n                   className=\"form-control\"/>\n            <button\n                onClick={() => {\n                    setFirst(true)\n                    findMoviesByTitle(searchTitle, accessToken)\n\n                }}\n                className=\"btn btn-primary form-control btn btn-warning\">Search\n            </button>\n\n            <br/>\n            <br/>\n            {\n                first === true &&\n                <>\n                <ul className=\"list-group\">\n\n                    {\n                        results.animals.map(pet =>\n                            // <li className=\"list-group-item\">\n                            <li className=\"list-group-item\" key={pet.id}>\n\n                                <Link to={`/details/${pet.id}`}>\n                                    <div className=\"p-3 mb-2 bg-warning text-dark\">Pet Name: {pet.name}</div>\n                                </Link>\n                                <br/>\n                                <div className=\"p-3 mb-2 bg-light text-dark\">Pet Gender: {pet.gender}</div>\n                                <div className=\"p-3 mb-2 bg-light text-dark\">Age: {pet.age}</div>\n                                <div className=\"p-3 mb-2 bg-light text-dark\">Description: {pet.description}</div>\n                            </li>\n                        )\n                    }\n\n                </ul>\n                </>\n            }\n\n        </div>\n    )\n}\n\n\nexport default SearchScreen"]},"metadata":{},"sourceType":"module"}
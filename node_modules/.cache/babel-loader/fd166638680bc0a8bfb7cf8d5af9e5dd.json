{"ast":null,"code":"import _regeneratorRuntime from\"/Users/yixuanliao/sarry94118/2021/spring/02/petfinder/pet/pet2/petfindersearch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/yixuanliao/sarry94118/2021/spring/02/petfinder/pet/pet2/petfindersearch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/yixuanliao/sarry94118/2021/spring/02/petfinder/pet/pet2/petfindersearch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// import logo from './logo.svg';\n// import './App.css';\n// import SearchScreen from \"./components/search-screen\";\n// import DetailsScreen from \"./components/details-screen\";\n// import  {BrowserRouter, Route} from 'react-router-dom'\n// import HomeScreen from \"./components/home-screen\";\n//\n// function App() {\n//   return (\n//\n//     <div className=\"container-fluid\">\n//         <BrowserRouter>\n//             <Route path={[\"/search\", \"/search/:breed\"]} exact={true}>\n//                 <SearchScreen/>\n//             </Route>\n//             <Route path={\"/details/:id\"} exact={true}>\n//                 <DetailsScreen/>\n//             </Route>\n//             <Route path={\"/\"} exact={true}>\n//                 <HomeScreen/>\n//             </Route>\n//\n//         </BrowserRouter>\n//     </div>\n//   );\n// }\n//\n// export default App;\n//\nimport logo from\"./logo.svg\";import{useEffect,createContext,useState}from\"react\";import'./App.css';import SearchScreen from\"./components/search-screen\";import DetailsScreen from\"./components/details-screen\";import{BrowserRouter,Route}from'react-router-dom';import HomeScreen from\"./components/home-screen\";import api from\"./api/oauth-token\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var AuthContext=/*#__PURE__*/createContext();var petFinderKey=\"IERoPwTvvsgAtqgT71P7EhCx8nLMCsx4xvvP0zywOA6eSzWWal\";var petFinderSecret=\"InqFifeZbO9QOwtLXTDQROwrzovrIbF2YfKVVl0o\";function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),accessToken=_useState2[0],setAccessToken=_useState2[1];useEffect(function(){var fetchAccessToken=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var params,petfinderRes,json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:params=new URLSearchParams();params.append(\"grant_type\",\"client_credentials\");params.append(\"client_id\",petFinderKey);params.append(\"client_secret\",petFinderSecret);_context.next=6;return fetch(\"https://api.petfinder.com/v2/oauth2/token\",{method:\"POST\",body:params});case 6:petfinderRes=_context.sent;_context.next=9;return petfinderRes.json();case 9:json=_context.sent;console.log(json.access_token);setAccessToken(json.access_token);// console.log(1)\n// const res = await fetch(api);\n// const json = await res.json();\n// console.log(2)\n// setAccessToken(json.access_token);\ncase 12:case\"end\":return _context.stop();}}},_callee);}));return function fetchAccessToken(){return _ref.apply(this,arguments);};}();fetchAccessToken();},[]);return/*#__PURE__*/_jsx(AuthContext.Provider,{value:accessToken,children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(BrowserRouter,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,children:/*#__PURE__*/_jsx(HomeScreen,{})}),/*#__PURE__*/_jsx(Route,{path:[\"/search\",\"/search/:breed\"],exact:true,children:/*#__PURE__*/_jsx(SearchScreen,{})}),/*#__PURE__*/_jsx(Route,{path:\"/details/:id\",exact:true,children:/*#__PURE__*/_jsx(DetailsScreen,{})})]})})});}export default App;","map":{"version":3,"sources":["/Users/yixuanliao/sarry94118/2021/spring/02/petfinder/pet/pet2/petfindersearch/src/App.js"],"names":["useEffect","createContext","useState","SearchScreen","DetailsScreen","BrowserRouter","Route","HomeScreen","api","AuthContext","petFinderKey","petFinderSecret","App","accessToken","setAccessToken","fetchAccessToken","params","URLSearchParams","append","fetch","method","body","petfinderRes","json","console","log","access_token"],"mappings":"4kBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;6BAIA,OAAQA,SAAR,CAAmBC,aAAnB,CAAkCC,QAAlC,KAAiD,OAAjD,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,YAAP,KAAyB,4BAAzB,CACA,MAAOC,CAAAA,aAAP,KAA0B,6BAA1B,CACA,OAASC,aAAT,CAAwBC,KAAxB,KAAoC,kBAApC,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAOC,CAAAA,GAAP,KAAgB,mBAAhB,C,wFAEA,MAAO,IAAMC,CAAAA,WAAW,cAAGR,aAAa,EAAjC,CACP,GAAMS,CAAAA,YAAY,CAAG,oDAArB,CACA,GAAMC,CAAAA,eAAe,CAAG,0CAAxB,CAKA,QAASC,CAAAA,GAAT,EAAe,eAC2BV,QAAQ,CAAC,IAAD,CADnC,wCACJW,WADI,eACSC,cADT,eAIXd,SAAS,CAAC,UAAM,CACZ,GAAMe,CAAAA,gBAAgB,0FAAG,gKACfC,MADe,CACN,GAAIC,CAAAA,eAAJ,EADM,CAErBD,MAAM,CAACE,MAAP,CAAc,YAAd,CAA4B,oBAA5B,EACAF,MAAM,CAACE,MAAP,CAAc,WAAd,CAA2BR,YAA3B,EACAM,MAAM,CAACE,MAAP,CAAc,eAAd,CAA+BP,eAA/B,EAJqB,sBAKMQ,CAAAA,KAAK,CAC5B,2CAD4B,CAE5B,CACIC,MAAM,CAAE,MADZ,CAEIC,IAAI,CAAEL,MAFV,CAF4B,CALX,QAKfM,YALe,qCAaFA,CAAAA,YAAY,CAACC,IAAb,EAbE,QAafA,IAbe,eAcrBC,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,YAAjB,EACAZ,cAAc,CAACS,IAAI,CAACG,YAAN,CAAd,CACA;AACA;AACA;AACA;AACA;AApBqB,uDAAH,kBAAhBX,CAAAA,gBAAgB,0CAAtB,CAsBAA,gBAAgB,GACnB,CAxBQ,CAwBN,EAxBM,CAAT,CA0BA,mBACI,KAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAEF,WAA7B,uBACA,YAAK,SAAS,CAAC,iBAAf,uBACI,MAAC,aAAD,yBACI,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,KAAK,CAAE,IAAvB,uBACI,KAAC,UAAD,IADJ,EADJ,cAII,KAAC,KAAD,EAAO,IAAI,CAAE,CAAC,SAAD,CAAY,gBAAZ,CAAb,CACO,KAAK,CAAE,IADd,uBAEI,KAAC,YAAD,IAFJ,EAJJ,cAQI,KAAC,KAAD,EAAO,IAAI,CAAC,cAAZ,CAA2B,KAAK,CAAE,IAAlC,uBACI,KAAC,aAAD,IADJ,EARJ,GADJ,EADA,EADJ,CAkBH,CAED,cAAeD,CAAAA,GAAf","sourcesContent":["// import logo from './logo.svg';\n// import './App.css';\n// import SearchScreen from \"./components/search-screen\";\n// import DetailsScreen from \"./components/details-screen\";\n// import  {BrowserRouter, Route} from 'react-router-dom'\n// import HomeScreen from \"./components/home-screen\";\n//\n// function App() {\n//   return (\n//\n//     <div className=\"container-fluid\">\n//         <BrowserRouter>\n//             <Route path={[\"/search\", \"/search/:breed\"]} exact={true}>\n//                 <SearchScreen/>\n//             </Route>\n//             <Route path={\"/details/:id\"} exact={true}>\n//                 <DetailsScreen/>\n//             </Route>\n//             <Route path={\"/\"} exact={true}>\n//                 <HomeScreen/>\n//             </Route>\n//\n//         </BrowserRouter>\n//     </div>\n//   );\n// }\n//\n// export default App;\n//\n\n\nimport logo from './logo.svg';\nimport {useEffect, createContext, useState} from \"react\";\nimport './App.css';\nimport SearchScreen from \"./components/search-screen\";\nimport DetailsScreen from \"./components/details-screen\";\nimport  {BrowserRouter, Route} from 'react-router-dom'\nimport HomeScreen from \"./components/home-screen\";\nimport api from \"./api/oauth-token\"\n\nexport const AuthContext = createContext();\nconst petFinderKey = \"IERoPwTvvsgAtqgT71P7EhCx8nLMCsx4xvvP0zywOA6eSzWWal\"\nconst petFinderSecret = \"InqFifeZbO9QOwtLXTDQROwrzovrIbF2YfKVVl0o\"\n\n\n\n\nfunction App() {\n    const [accessToken, setAccessToken] = useState(null);\n\n\n    useEffect(() => {\n        const fetchAccessToken = async () => {\n            const params = new URLSearchParams();\n            params.append(\"grant_type\", \"client_credentials\");\n            params.append(\"client_id\", petFinderKey);\n            params.append(\"client_secret\", petFinderSecret);\n            const petfinderRes = await fetch(\n                \"https://api.petfinder.com/v2/oauth2/token\",\n                {\n                    method: \"POST\",\n                    body: params,\n                }\n            )\n\n            const json = await petfinderRes.json()\n            console.log(json.access_token)\n            setAccessToken(json.access_token)\n            // console.log(1)\n            // const res = await fetch(api);\n            // const json = await res.json();\n            // console.log(2)\n            // setAccessToken(json.access_token);\n        };\n        fetchAccessToken();\n    }, []);\n\n    return (\n        <AuthContext.Provider value={accessToken}>\n        <div className=\"container-fluid\">\n            <BrowserRouter>\n                <Route path=\"/\" exact={true}>\n                    <HomeScreen/>\n                </Route>\n                <Route path={[\"/search\", \"/search/:breed\"]}\n                       exact={true}>\n                    <SearchScreen/>\n                </Route>\n                <Route path=\"/details/:id\" exact={true}>\n                    <DetailsScreen/>\n                </Route>\n            </BrowserRouter>\n        </div>\n        </AuthContext.Provider>\n    );\n}\n\nexport default App;\n\n"]},"metadata":{},"sourceType":"module"}
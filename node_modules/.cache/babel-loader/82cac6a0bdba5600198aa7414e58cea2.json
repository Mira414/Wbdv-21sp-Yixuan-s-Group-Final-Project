{"ast":null,"code":"var _jsxFileName = \"/Users/yixuanliao/sarry94118/2021/spring/02/wbdv-sp21-02-sarry94118-prototype-react-/wbdv-sp21-02-sarry94118-prototype-react-/src/components/search-screen.js\";\n// import React, {useState, useEffect} from 'react'\n// import {Link, useParams, useHistory} from 'react-router-dom'\n// import movieService from \"../services/movie-service\"\n//\n// const SearchScreen = () => {\n//     const history = useHistory()\n//     const {breed} = useParams();\n//     const [searchTitle, setSearchTitle] = useState(breed)\n//     const [results, setResults] = useState([])\n//     const a = [1,2,3]\n//     useEffect(() => {\n//         setSearchTitle(breed)\n//         findMoviesByTitle(breed)\n//         //     if(breed) {\n//         //         movieService.findMovieByTitle(breed)\n//         //             .then(results => setResults(results))\n//         //     }\n//         // }, [breed])\n//\n//\n//     }, [])\n//     const findMoviesByTitle = (breed) => {\n//         history.push(breed)\n//         movieService.findMovieByTitle(breed)\n//             .then((results) => {\n//                 setResults(results)\n//                 console.log(results)\n//\n//             })\n//     }\n//     return (\n//         <div>\n//             <h2>Search Screen{results.length}</h2>\n//             <input value={searchTitle}\n//                    onChange={(event) => {\n//                        setSearchTitle((event.target.value))\n//                    }}\n//                    className=\"form-control\"/>\n//             <button\n//                 onClick={() => {\n//                     findMoviesByTitle(searchTitle)\n//                 }}\n//                 className=\"btn btn-primary\">Search\n//             </button>\n//\n//             <ul className=\"list-group\">\n//\n//\n//                     {\n//                         results.map(pet =>\n//\n//                             <li className=\"list-group-item\" key={pet.id}>\n//\n//                                 <Link to={`/details/${pet.id}`}>\n//                                     {pet.name}\n//                                     name\n//                                 </Link>\n//                             </li>\n//                         )\n//                     }\n//             </ul>\n//\n//                 {/*<li className=\"list-group-item\">*/}\n//                 {/*    <Link to={`/details/dsdsd`}>*/}\n//                 {/*    Titanic*/}\n//                 {/*    </Link>*/}\n//                 {/*</li>*/}\n//                 {/*<li className=\"list-group-item\">*/}\n//                 {/*    Rock Star*/}\n//                 {/*</li>*/}\n//                 {/*<li className=\"list-group-item\">*/}\n//                 {/*    You are lover*/}\n//                 {/*</li>*/}\n//\n//         </div>\n//     )\n//\n// }\n// export default SearchScreen\n//\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport './search-style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\naxios.defaults.baseURL = 'https://api.thedogapi.com/v1';\naxios.defaults.headers.common['x-api-key'] = '9edd9d8f-8716-4a0a-825f-cbc087d86a63';\n\nclass SearchScreen extends Component {\n  async getBreeds() {\n    const res = await axios('/breeds');\n    return res.data;\n  }\n\n  async getCatsImagesByBreed(breed_id, amount) {\n    const res = await axios('/images/search?breed_ids=' + breed_id + \"&limit=\" + amount);\n    console.table(res.data);\n    return res.data;\n  }\n\n  async loadBreedImages() {\n    console.log('Load Breed Images:', this.state.selected_breed);\n    let breed_images = await this.getCatsImagesByBreed(this.state.selected_breed, 5);\n    this.setState({\n      images: breed_images\n    });\n  }\n\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      images: [],\n      breeds: [],\n      selected_breed: 0\n    };\n    this.onBreedSelectChange = this.onBreedSelectChange.bind(this);\n  }\n\n  async onBreedSelectChange(e) {\n    console.log(\"Breed Selected. ID:\", e.target.value);\n    await this.setState({\n      selected_breed: e.target.value\n    });\n    await this.loadBreedImages();\n  }\n\n  componentDidMount() {\n    if (this.state.breeds.length === 0) {\n      (async () => {\n        try {\n          this.setState({\n            breeds: await this.getBreeds()\n          });\n        } catch (e) {\n          //...handle the error...\n          console.error(e);\n        }\n      })();\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        value: this.state.selected_breed,\n        onChange: this.onBreedSelectChange,\n        children: this.state.breeds.map(breed => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: breed.id,\n          children: breed.name\n        }, breed.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 55\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"list-group\",\n        children: this.state.images.map(image => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"list-group-item\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"cat-image\",\n            alt: \"\",\n            src: image.url\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 29\n          }, this)\n        }, image.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default SearchScreen;","map":{"version":3,"sources":["/Users/yixuanliao/sarry94118/2021/spring/02/wbdv-sp21-02-sarry94118-prototype-react-/wbdv-sp21-02-sarry94118-prototype-react-/src/components/search-screen.js"],"names":["React","Component","axios","defaults","baseURL","headers","common","SearchScreen","getBreeds","res","data","getCatsImagesByBreed","breed_id","amount","console","table","loadBreedImages","log","state","selected_breed","breed_images","setState","images","constructor","args","breeds","onBreedSelectChange","bind","e","target","value","componentDidMount","length","error","render","map","breed","id","name","image","url"],"mappings":"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","sourcesContent":["// import React, {useState, useEffect} from 'react'\n// import {Link, useParams, useHistory} from 'react-router-dom'\n// import movieService from \"../services/movie-service\"\n//\n// const SearchScreen = () => {\n//     const history = useHistory()\n//     const {breed} = useParams();\n//     const [searchTitle, setSearchTitle] = useState(breed)\n//     const [results, setResults] = useState([])\n//     const a = [1,2,3]\n//     useEffect(() => {\n//         setSearchTitle(breed)\n//         findMoviesByTitle(breed)\n//         //     if(breed) {\n//         //         movieService.findMovieByTitle(breed)\n//         //             .then(results => setResults(results))\n//         //     }\n//         // }, [breed])\n//\n//\n//     }, [])\n//     const findMoviesByTitle = (breed) => {\n//         history.push(breed)\n//         movieService.findMovieByTitle(breed)\n//             .then((results) => {\n//                 setResults(results)\n//                 console.log(results)\n//\n//             })\n//     }\n//     return (\n//         <div>\n//             <h2>Search Screen{results.length}</h2>\n//             <input value={searchTitle}\n//                    onChange={(event) => {\n//                        setSearchTitle((event.target.value))\n//                    }}\n//                    className=\"form-control\"/>\n//             <button\n//                 onClick={() => {\n//                     findMoviesByTitle(searchTitle)\n//                 }}\n//                 className=\"btn btn-primary\">Search\n//             </button>\n//\n//             <ul className=\"list-group\">\n//\n//\n//                     {\n//                         results.map(pet =>\n//\n//                             <li className=\"list-group-item\" key={pet.id}>\n//\n//                                 <Link to={`/details/${pet.id}`}>\n//                                     {pet.name}\n//                                     name\n//                                 </Link>\n//                             </li>\n//                         )\n//                     }\n//             </ul>\n//\n//                 {/*<li className=\"list-group-item\">*/}\n//                 {/*    <Link to={`/details/dsdsd`}>*/}\n//                 {/*    Titanic*/}\n//                 {/*    </Link>*/}\n//                 {/*</li>*/}\n//                 {/*<li className=\"list-group-item\">*/}\n//                 {/*    Rock Star*/}\n//                 {/*</li>*/}\n//                 {/*<li className=\"list-group-item\">*/}\n//                 {/*    You are lover*/}\n//                 {/*</li>*/}\n//\n//         </div>\n//     )\n//\n// }\n// export default SearchScreen\n//\n\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport './search-style.css';\n\naxios.defaults.baseURL = 'https://api.thedogapi.com/v1';\naxios.defaults.headers.common['x-api-key'] = '9edd9d8f-8716-4a0a-825f-cbc087d86a63';\n\nclass SearchScreen extends Component {\n\n    async getBreeds() {\n        const res = await axios('/breeds');\n        return res.data;\n    }\n    async getCatsImagesByBreed(breed_id, amount) {\n        const res = await axios('/images/search?breed_ids='+breed_id + \"&limit=\"+ amount);\n\n        console.table(res.data)\n        return res.data;\n    }\n\n    async loadBreedImages() {\n        console.log('Load Breed Images:', this.state.selected_breed)\n\n        let breed_images = await this.getCatsImagesByBreed(this.state.selected_breed, 5)\n\n        this.setState({ images: breed_images });\n    }\n\n    constructor(...args) {\n\n        super(...args);\n        this.state = {\n            images: [],\n            breeds: [],\n            selected_breed: 0\n        };\n\n        this.onBreedSelectChange = this.onBreedSelectChange.bind(this);\n    }\n    async onBreedSelectChange(e) {\n        console.log(\"Breed Selected. ID:\",e.target.value)\n        await this.setState({selected_breed:e.target.value});\n        await this.loadBreedImages();\n    }\n    componentDidMount() {\n        if (this.state.breeds.length===0) {\n            (async () => {\n                try {\n                    this.setState({breeds: await this.getBreeds()});\n                } catch (e) {\n                    //...handle the error...\n                    console.error(e)\n                }\n            })();\n        }\n    }\n    render() {\n        return (\n            <div>\n\n                <select value={this.state.selected_breed}\n                        onChange={this.onBreedSelectChange}>\n                    {this.state.breeds.map((breed) => <option key={breed.id} value={breed.id}>{breed.name}</option>)}\n                </select>\n\n                <ul className=\"list-group\">\n                    {this.state.images.map((image) =>\n\n                        <li className=\"list-group-item\" key={image.id}>\n                            <img className=\"cat-image\" alt=\"\" src={image.url}></img>\n                        </li>\n                    )\n                    }\n\n                    {/*{this.state.map((pet) =>*/}\n\n                    {/*    <li className=\"list-group-item\" key={pet.images.id}>*/}\n                    {/*        <img className=\"cat-image\" alt=\"\" src={pet.images.url}></img>*/}\n                    {/*    </li>*/}\n                    {/*)*/}\n                    {/*}*/}\n                </ul>\n\n            </div>\n        );\n    }\n}\n\nexport default SearchScreen;\n"]},"metadata":{},"sourceType":"module"}